webpackJsonp([19],{"2ZEU":function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("lC5x"),r=s.n(t),o=s("aA9S"),n=s.n(o),i=s("J0Oq"),c=s.n(i),l=s("4YfN"),p=s.n(l),m=s("fUgm"),d=s("GWs3"),u={data:function(){return{passType:!0,activeName:"phone",form:{area:"86",password:"123123123",phoneOrEmail:"15288888888"},load:!1}},components:{getArea:s("ucyp").a},computed:p()({},Object(m.d)(["userInfo"])),methods:p()({},Object(m.c)(["setToken"]),Object(m.b)(["actionUserInfo"]),{login:function(){var e=this;return c()(r.a.mark(function a(){var s,t,o,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.form.phoneOrEmail){a.next=2;break}return a.abrupt("return",e.$message.error("请输入电话或邮箱号码"));case 2:if(e.form.password){a.next=4;break}return a.abrupt("return",e.$message.error("请输入密码"));case 4:return s=n()({},e.form),"email"==e.activeName&&(s.area=null),e.load=!0,a.prev=7,a.next=10,Object(d.o)(s);case 10:return t=a.sent,o=t.message,i=t.data,e.$message.success(o),e.setToken(i),a.next=17,e.actionUserInfo();case 17:setTimeout(function(){e.gopage_re("/home"),e.load=!1},1e3),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(7),e.load=!1;case 23:case"end":return a.stop()}},a,e,[[7,20]])}))()}}),mounted:function(){},watch:{activeName:function(){this.form.password=this.form.phoneOrEmail=""}}},v={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"formPage flex align center",attrs:{id:"login"}},[s("div",{staticClass:"userForm shadownItemBox flex between stretch"},[s("div",{staticClass:"leftBg"}),e._v(" "),s("div",{staticClass:"mainBox"},[s("div",{staticClass:"title"},[e._v("WMC 用户登录")]),e._v(" "),s("div",{staticClass:"formBox"},[s("el-tabs",{model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"电话登录",name:"phone"}}),e._v(" "),s("el-tab-pane",{attrs:{label:"邮箱登录",name:"email"}})],1),e._v(" "),s("div",{staticClass:"inputGroup flex align"},[s("i",{staticClass:"icon user"}),e._v(" "),s("getArea",{directives:[{name:"show",rawName:"v-show",value:"phone"==e.activeName,expression:"activeName=='phone'"}],attrs:{default:e.form.area},on:{setVal:function(a){return e.form.area=a}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phoneOrEmail,expression:"form.phoneOrEmail"}],attrs:{type:"text",placeholder:"请输入"+("phone"==e.activeName?"电话":"邮箱")+"号码"},domProps:{value:e.form.phoneOrEmail},on:{input:function(a){a.target.composing||e.$set(e.form,"phoneOrEmail",a.target.value)}}})],1),e._v(" "),s("div",{staticClass:"inputGroup flex align"},[s("i",{staticClass:"icon pass"}),e._v(" "),"checkbox"==(e.passType?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(a){var s=e.form.password,t=a.target,r=!!t.checked;if(Array.isArray(s)){var o=e._i(s,null);t.checked?o<0&&e.$set(e.form,"password",s.concat([null])):o>-1&&e.$set(e.form,"password",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.form,"password",r)}}}):"radio"==(e.passType?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(a){return e.$set(e.form,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{placeholder:"请输入密码",type:e.passType?"password":"text"},domProps:{value:e.form.password},on:{input:function(a){a.target.composing||e.$set(e.form,"password",a.target.value)}}}),e._v(" "),s("i",{staticClass:"icon",class:e.passType?"eyeClose":"eye",on:{click:function(a){e.passType=!e.passType}}})]),e._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],staticClass:"themBtn",on:{click:e.login}},[e._v("登 录")]),e._v(" "),s("div",{staticClass:"other flex align between"},[s("div",{staticClass:"pointer",on:{click:function(a){return e.gopage("/forgetPass")}}},[e._v("忘记密码")]),e._v(" "),s("div",[s("span",[e._v("没有平台帐号？")]),e._v("  "),s("a",{on:{click:function(a){return e.gopage("/register")}}},[e._v("立即注册")])])])],1)])])])},staticRenderFns:[]};var f=s("C7Lr")(u,v,!1,function(e){s("Fu+a")},"data-v-161a7ad1",null);a.default=f.exports},"Fu+a":function(e,a,s){var t=s("zIvJ");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);s("FIqI")("7df8c358",t,!0,{})},zIvJ:function(e,a,s){(e.exports=s("UTlt")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"login.vue",sourceRoot:""}])}});
//# sourceMappingURL=19.4c5ac40bff2747e2a560.js.map